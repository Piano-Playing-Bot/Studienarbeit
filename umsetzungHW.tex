%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%   Autoren des Abschnitts:
%   Jakob Kautz
%   Olivier Stenzel
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

% !TEX root =  master.tex
\chapter{Umsetzung - Hardware} \label{umsetzungHW}
\chapterauthor{Jakob Kautz, Olivier Stenzel}

\nocite{*}
- Probleme, Schwierigkeiten, Änderungen während der Umsetzung

Nachdem die Planungsphase abgeschlossen war, mussten die Überlegungen umgesetzt werden.
Im Rahmen dieser Arbeit wurde ein Prototyp gebaut, welcher 8 Tasten anspielen kann.
Zusätzlich wurden die Elektronik mit LEDs so erweitert, dass man das Drücken von 40 Tasten simulieren kann.

\section{Materialien}
\chapterauthor{Jakob Kautz}
\subsection{Liste der Bauteile}
%TODO(Jay): Fix List
\begin{table}[htbp]
    \centering
    \begin{tabular}{|m{4cm}|m{8cm}|}
        \hline
        \textbf{Bauteil} &  \textbf{Anzahl und Begründung}  \\
        \hline
        Hubmagnete & 88; jede Taste braucht einen Hubmagneten um angespielt zu werden \\
        \hline
        Stromversorgung & 1; Externe Stromversorgung für die Aktuatoren, da diese mehr als die 5V Vcc des Arduinos brauchen \\
        \hline
        Arduino & 1; Kommunikation \\
        \hline
        Breadboard & 2; Kleinstromschaltung \\
        \hline
        Schieberegister & 11, Weitergabe Signal\\
        \hline
        Kabel & 9x40stck; Verbindungen \\
        \hline
        LEDs & 90; Tests \\
        \hline
        1kOhm Widerstände & 90; Sicherheit and shit \\
        \hline
        MOSFET & 90; Steuerung Strom \\
        \hline
        Angelschnur & ...m; Verbindung Hubmagnet und Taste \\
        \hline
    \end{tabular}
    \caption{Ergebnisse der Anforderungen}
    \label{table:Bauteile}
\end{table}

\subsection{Kostenübernahme}
Die vorher spezifizierte Hardware für den Schaltplan musste für die Erstellung des Prototypen offensichtlich besorgt werden.
Aufgrund der Kosten, wurde bei einer der betreuenden Firmen angefragt, ob diese die Kosten für das Projekt übernehmen
könnte.
Damit dies möglich war, wurde ein Kostenvoranschlag gestellt, in welchem die benötigten Material mit den geschätzten
Kosten aufgeführt wurde: \newline
%TODO(Jay): Add Kostenschätzung
Der Kostenanschlag erwies sich im Laufe des Projektes als (teils) unrealistisch. Dies lag insbesondere an der Anforderung
der Firma. Die Schätzung der Kosten basierte auf Anbietern, bei welchen die Materialien möglichst günstig zu kaufen sind.
Durch Firmenreglungen mussten diese Allerdings alle bei Conrad oder Reichelt
%Note(Jay): Stimmt das so?
gekauft werden. Diese Anbieter verkaufen die Materialien für sehr viel mehr Geld. Die tatsächlichen Kosten liefen
letztendlich also auf folgende Beträge hinaus: \newline
%TODO(Jay): Tatsächliche Kosten

Der Kostenunterschied betrug daher insgesamt .
%TODO(Jay): Add difference
Hierbei ist allerdings zu erwähnen, dass die Kostenschätzung passend gewesen wäre, wenn die ANbieter frei wählbar wären.

\section{Prototypenbau}
Ursprünglich sollte der Aufbau des in Kapitel \ref{subsec:schaltplan} spezifizierten Schaltplans via Steckbrettern und
Jumperkabeln umgesetzt werden.
Zu Beginn wurde dies auch so umgesetzt. Das Problem welches dadurch entstand war, dass die gewählten Platinen den
benötigten Stromfluss nicht aushalten.\newline
Jeder Aktuator - also jede gedrückte Taste - zieht einen Strom von 0.7A. Um das Projekt möglichst sinnvoll umzusetzen,
sollte der Aufbau mindestens 10 Tasten gleichzeitig drücken können, was bedeutet, dass der Aufbau mindestens 7.0A
Stromfluss problemlos ausstehen muss.
%TODO(Jay): Wie viel halten Platinen aus? Warum konnten wir ein paar Jumper-Kabel nutzen? Wann brauchten wir die dickeren? Tabelle für welche Kabeldicke für welchen Stromfluss
% @Note(Val): "wir" muss weg
% @Note(Val): Wann haben wir entschieden, dass min. 10 Tasten gleichzeitig spielbar sein sollen? Wenn wir das als Anforderung haben wollen, muss das im Anforderungs-Kapitel auch erwähnt werden

Aus diesem Grund wurde die gesamte Schaltung, die nach dem Schieberegister kommt, auf einer Lochrasterplatine fest gelötet.
Hierfür wurde ein 3mm starker Draht für die Stromversorgung verwendet.

\subsection{Klavieranbau}
Im Rahmen des Protoypen wurde die Elektrik nicht fest am Klavier verschraubt.
Das Brett mit den Hubmagneten lehnt am Klavier, während die Angelschnüre die Verbindung zu den Tasten herstellen.
Gespannt werden die Seile durch die Schrauben-Mutter Konstruktion. (siehe Abschnitt \ref{subsec:VerbindungTastenAktuatoren})

\subsection{Ergebnisse des Prototypen}

Das Anspielen klappt iwie aber noch hakelig.


